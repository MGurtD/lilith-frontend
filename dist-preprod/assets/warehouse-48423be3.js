import{af as r,ap as c,Q as u}from"./index-f6af8c81.js";let h=class extends r{async create(e){let s=!1;try{const a=`${this.resource}`,i=await this.apiClient.post(a,e);(i.status===200||i.status===201)&&(s=!0)}catch(a){c(a)}return s}async getBetweenDates(e,s,a){const i=`${this.resource}?startTime=${e}&endTime=${s}${a?`&locationId=${a}`:""}`,n=await this.apiClient.get(i);if(n.status===200)return n.data}};class w extends r{async getAllWithLocations(){const e=`${this.resource}/WithLocations`;return(await this.apiClient.get(e)).data}async getBySite(e){const s=`${this.resource}/Site/${e}`;return(await this.apiClient.get(s)).data}async createLocation(e){const s=`${this.resource}/Location`;return(await this.apiClient.post(s,e)).status===200}async updateLocation(e,s){const a=`${this.resource}/Location/${s.id}`;return(await this.apiClient.put(a,s)).status===200}async deleteLocation(e){const s=`${this.resource}/Location/${e}`;return(await this.apiClient.delete(s)).status===200}}class d extends r{}const o={Warehouse:new w("/Warehouse"),Stock:new d("/Stock"),StockMovementService:new h("/StockMovement")},f=u({id:"warehouse",state:()=>({warehouse:void 0,warehouses:void 0}),getters:{warehousesHaveLocations:t=>!t.warehouses||t.warehouses.length===0?!1:t.warehouses.some(e=>e.locations&&e.locations.length>0),getLocationName:t=>e=>{if(!(!t.warehouses||t.warehouses.length===0)){for(const s of t.warehouses)if(s.locations&&s.locations.length>0){const a=s.locations.find(i=>i.id===e);if(a)return a.name}}}},actions:{setNewWarehouse(t){this.warehouse={id:t,name:"",description:"",defaultLocationId:"",siteId:"",disabled:!1}},async fetchWarehouses(){this.warehouses=await o.Warehouse.getAll()},async fetchWarehousesBySite(t){this.warehouses=await o.Warehouse.getBySite(t)},async fetchWarehousesWithLocations(){this.warehouses=await o.Warehouse.getAllWithLocations()},async fetchWarehouse(t){this.warehouse=await o.Warehouse.getById(t)},async createWarehouse(t){const e=await o.Warehouse.create(t);return e&&await this.fetchWarehouses(),e},async updateWarehouse(t,e){const s=await o.Warehouse.update(t,e);return s&&await this.fetchWarehouses(),s},async deleteWarehouse(t){const e=await o.Warehouse.delete(t);return e&&await this.fetchWarehouses(),e},async createLocation(t){const e=await o.Warehouse.createLocation(t);return e&&await this.fetchWarehouse(t.warehouseId),e},async updateLocation(t,e){const s=await o.Warehouse.updateLocation(t,e);return s&&await this.fetchWarehouse(e.warehouseId),s},async deleteLocation(t){const e=await o.Warehouse.deleteLocation(t);return e&&this.warehouse&&await this.fetchWarehouse(this.warehouse.id),e}}});export{o as S,f as u};
