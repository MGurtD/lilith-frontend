import{d as g,g as S,u as k,k as B,z as x,o as M,P as d,h as i,q,w as s,l as u,a as E,e as r,i as e,n as T,C as D}from"./index-f6af8c81.js";import{u as I}from"./plantmodel-2dcc063a.js";import"./index-5443ddc0.js";const N={class:"flex flex-wrap align-items-center justify-content-between gap-2"},P=r("span",{class:"text-xl text-900 font-bold"},"Estats de màquina",-1),A=["onClick"],L=g({__name:"MachineStatuses",setup(R){const m=S(),p=k(),l=I(),_=B(),f=x();M(async()=>{await l.fetchMachineStatuses(),p.setMenuItem({icon:d.CALENDAR,title:"Gestió d'estats de màquina"})});const v=()=>{m.push({path:`/machinestatus/${D()}`})},y=o=>{o.originalEvent.target.className.includes("grid_delete_column_button")||m.push({path:`/machinestatus/${o.data.id}`})},w=(o,c)=>{f.require({target:o.currentTarget,message:`Está segur que vol eliminar l'estat de màquina ${c.name}?`,icon:"pi pi-question-circle",acceptIcon:"pi pi-check",rejectIcon:"pi pi-times",accept:async()=>{await l.deleteMachineStatus(c.id)&&(_.add({severity:"success",summary:"Eliminat",life:3e3}),await l.fetchMachineStatuses())}})};return(o,c)=>{const h=i("Button"),a=i("Column"),n=i("BooleanColumn"),C=i("DataTable");return E(),q(C,{value:u(l).machineStatuses,tableStyle:"min-width: 100%",scrollable:"",scrollHeight:"80vh",onRowClick:y},{header:s(()=>[r("div",N,[P,e(h,{icon:u(d).PLUS,rounded:"",raised:"",onClick:v},null,8,["icon"])])]),default:s(()=>[e(a,{field:"name",header:"Nom",style:{width:"25%"}}),e(a,{field:"description",header:"Descripció",style:{width:"40%"}}),e(a,{header:"Aturada",style:{width:"2%"}},{body:s(t=>[e(n,{value:t.data.stoped},null,8,["value"])]),_:1}),e(a,{header:"Operaris",style:{width:"2%"}},{body:s(t=>[e(n,{value:t.data.operatorsAllowed},null,8,["value"])]),_:1}),e(a,{header:"Tancada",style:{width:"2%"}},{body:s(t=>[e(n,{value:t.data.closed},null,8,["value"])]),_:1}),e(a,{header:"Preferit",style:{width:"2%"}},{body:s(t=>[e(n,{value:t.data.preferred},null,8,["value"])]),_:1}),e(a,{header:"Desactivat",style:{width:"2%"}},{body:s(t=>[e(n,{value:t.data.disabled},null,8,["value"])]),_:1}),e(a,null,{body:s(t=>[r("i",{class:T([u(d).TIMES,"grid_delete_column_button"]),onClick:b=>w(b,t.data)},null,10,A)]),_:1})]),_:1},8,["value"])}}});export{L as default};
