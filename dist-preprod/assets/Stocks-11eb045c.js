import{u as w}from"./warehouse-48423be3.js";import{d as g,o as b,h as p,a as r,c as u,t as h,m as _,i as t,w as n,a9 as v,l as f,u as P,r as S,P as V,q as x,e as d,I as C}from"./index-f6af8c81.js";import{u as D}from"./stock-62765346.js";import{u as I}from"./reference-75fb097d.js";const L={class:"mb-2"},B={key:0,class:"block text-900 mb-2"},N={key:0,class:"flex align-items-center"},R=g({__name:"DropdownWarehouses",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(y,{emit:i}){const o=w();b(()=>{o.warehouses||o.fetchWarehouses()});const s=w();return(a,c)=>{const l=p("Dropdown");return r(),u("div",L,[a.label.length>0?(r(),u("label",B,h(a.label),1)):_("",!0),t(l,v({showClear:"",filter:"",options:f(s).warehouses,placeholder:a.placeholder||"Selecciona un magatzem",optionValue:"id",optionLabel:"name",class:"w-full"},a.$attrs,{"model-value":a.modelValue,onChange:c[0]||(c[0]=e=>i("update:modelValue",e.value))}),{option:n(e=>[e.option?(r(),u("div",N,h(e.option.name),1)):_("",!0)]),_:1},16,["options","placeholder","model-value"])])}}}),T={class:"flex flex-wrap align-items-center justify-content-between gap-2"},$={class:"datatable-filter flex flex-wrap gap-4 flex-1"},z={class:"filter-field flex gap-2"},M=d("label",null,"Magatzem",-1),F=g({__name:"Stocks",setup(y){const i=P(),o=D(),s=I(),a=S({warehouseId:void 0});return b(async()=>{await o.fetchStocks(),await s.fetchReferences(),i.setMenuItem({icon:V.BOX,title:"Gestió de magatzems - Estocs"})}),(c,l)=>{const e=p("Column"),k=p("DataTable");return r(),x(k,{class:"p-datatable-sm",value:f(o).stocks,tableStyle:"min-width: 100%",scrollable:"",scrollHeight:"75vh",paginator:"",rows:20,rowsPerPageOptions:[20,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords} entrades"},{header:n(()=>[d("div",T,[d("div",$,[d("div",z,[M,t(R,{label:"",modelValue:a.value.warehouseId,"onUpdate:modelValue":l[0]||(l[0]=m=>a.value.warehouseId=m)},null,8,["modelValue"])])])])]),default:n(()=>[t(e,{header:"Producte",style:{width:"28%"}},{body:n(m=>[C(h(f(s).getFullNameById(m.data.referenceId)),1)]),_:1}),t(e,{field:"quantity",header:"Uds.",style:{width:"12%"}}),t(e,{field:"width",header:"Ample (x) mm",style:{width:"12%"}}),t(e,{field:"length",header:"Llarg (y) mm",style:{width:"12%"}}),t(e,{field:"height",header:"Alt (z) mm",style:{width:"12%"}}),t(e,{field:"diameter",header:"Diàmetre mm",style:{width:"12%"}}),t(e,{field:"thickness",header:"Gruix mm",style:{width:"12%"}})]),_:1},8,["value"])}}});export{F as default};
