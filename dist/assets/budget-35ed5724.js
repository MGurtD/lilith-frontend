import{N as r,I as i}from"./index-709c40c8.js";import{S as a}from"./index-90d81c1b.js";const n=r({id:"budget",state:()=>({budget:void 0,budgets:void 0,order:void 0}),getters:{},actions:{async GetById(e){this.budget=await a.Budget.getById(e),this.budget&&(this.budget.date=i(this.budget.date),this.budget.acceptanceDate&&(this.budget.acceptanceDate=i(this.budget.acceptanceDate)))},async GetFiltered(e,t,d,s){d?this.budgets=await a.Budget.GetBetweenDatesAndCustomer(e,t,d):this.budgets=await a.Budget.GetBetweenDates(e,t),s&&this.budgets&&(this.budgets=this.budgets.filter(u=>u.statusId===s))},async GetAssociatedSalesOrders(e){this.order=await a.SalesOrder.GetFromBudgetId(e)},async Create(e){return await a.Budget.Create(e)},async Update(e,t){return await a.Budget.update(e,t)},async Delete(e){return await a.Budget.delete(e)},async CreateDetail(e){const t=await a.Budget.CreateDetail(e);return t&&await this.GetById(e.budgetId),t},async UpdateDetail(e){return await a.Budget.UpdateDetail(e)},async DeleteDetail(e){return await a.Budget.DeleteDetail(e)}}});export{n as u};
