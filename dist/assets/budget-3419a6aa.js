import{I as u}from"./index-3b4220ae.js";import{S as a}from"./index-a5fde280.js";import{f as i}from"./functions-2e154ea4.js";const o=u({id:"budget",state:()=>({budget:void 0,budgets:void 0,order:void 0}),getters:{},actions:{async GetById(e){this.budget=await a.Budget.getById(e),this.budget&&(this.budget.date=i(this.budget.date),this.budget.acceptanceDate&&(this.budget.acceptanceDate=i(this.budget.acceptanceDate)))},async GetFiltered(e,t,d,s){d?this.budgets=await a.Budget.GetBetweenDatesAndCustomer(e,t,d):this.budgets=await a.Budget.GetBetweenDates(e,t),s&&this.budgets&&(this.budgets=this.budgets.filter(r=>r.statusId===s))},async GetAssociatedSalesOrders(e){this.order=await a.SalesOrder.GetFromBudgetId(e)},async Create(e){return await a.Budget.Create(e)},async Update(e,t){return await a.Budget.update(e,t)},async Delete(e){return await a.Budget.delete(e)},async CreateDetail(e){const t=await a.Budget.CreateDetail(e);return t&&await this.GetById(e.budgetId),t},async UpdateDetail(e){return await a.Budget.UpdateDetail(e)},async DeleteDetail(e){return await a.Budget.DeleteDetail(e)}}});export{o as u};
