var u=Object.defineProperty;var f=(e,s,t)=>s in e?u(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var l=(e,s,t)=>(f(e,typeof s!="symbol"?s+"":s,t),t);import{R as d,S as i}from"./index-61ceac46.js";import{S as g}from"./index-837c88ed.js";const m="http://51.75.123.239:5010",a=d.create({baseURL:m,timeout:5e3,headers:{"Content-Type":"application/json"},validateStatus:function(e){return e<500}});a.interceptors.request.use(function(e){const s=i();return s.isWaiting=!0,e},function(e){return Promise.reject(e)});a.interceptors.response.use(function(e){const s=i();return s.isWaiting=!1,e},function(e){const s=i();return s.isWaiting=!1,s.setError(),h(e),Promise.reject(e)});function h(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e)}const b="Reports",v="22514ad8-7d58-4add-a49a-4396a6e4bbc5";var w=(e=>(e.Order="SalesOrder",e.DeliveryNote="DeliveryNote",e.Invoice="SalesInvoice",e))(w||{});class N{constructor(){l(this,"apiClient");this.apiClient=a}async Download(s,t,c){const o=await g.File.GetEntityFiles(b,v);if(!o||o.length===0)throw new Error("No hi ha informes disponibles. Carrega'ls a la ruta /reports");console.log(o);const n=o.find(p=>p.originalName.includes(t));if(!n)throw new Error(`L'informe ${t} no existeix. Carrega'l amb aquest nom a la ruta /reports`);console.log(n);let r=await this.apiClient.post("/download",{data:s,reportName:n.path,fileName:c},{responseType:"blob"});if(r.status===200)return r.data}}export{v as R,w as a,N as b};
