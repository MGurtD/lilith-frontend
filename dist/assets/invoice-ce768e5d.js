import{N as c,Y as r}from"./index-31e65974.js";import{S as s}from"./index-142a8147.js";import{a as d,b as l}from"./report.service-7ab56341.js";const u=c({id:"salseInvoices",state:()=>({invoice:void 0,invoices:void 0}),getters:{},actions:{async Create(e){return await s.SalesInvoice.Create(e)},async CreateRectificative(e){return await s.SalesInvoice.CreateRectificative(e)},async GetHeaderById(e){const t=await s.SalesInvoice.GetHeader(e);t&&this.invoice&&(this.invoice.baseAmount=t.baseAmount,this.invoice.taxAmount=t.taxAmount,this.invoice.grossAmount=t.grossAmount,this.invoice.netAmount=t.netAmount)},async GetById(e){this.invoice=await s.SalesInvoice.getById(e)},async GetDetailsById(e){const t=await s.SalesInvoice.getById(e);this.invoice&&t&&(this.invoice.salesInvoiceDetails=t==null?void 0:t.salesInvoiceDetails)},async GetFiltered(e,t,a,i,n){a?this.invoices=await s.SalesInvoice.GetBetweenDatesAndStatus(e,t,a):i?this.invoices=await s.SalesInvoice.GetBetweenDatesAndCustomer(e,t,i):n?this.invoices=await s.SalesInvoice.GetBetweenDatesAndExcludeStatus(e,t,n):this.invoices=await s.SalesInvoice.GetBetweenDates(e,t)},async Update(e){return await s.SalesInvoice.update(e.id,e)},async UpdateInvoicesStatuses(e){return await s.SalesInvoice.UpdateStatuses(e)},async Delete(e){return await s.SalesInvoice.delete(e)},async AddDeliveryNote(e,t){const a=await s.SalesInvoice.AddDeliveryNote(e,t);return this.GetDetailsById(e),this.GetHeaderById(e),a},async RemoveDeliveryNote(e,t){const a=await s.SalesInvoice.RemoveDeliveryNote(e,t);return this.GetDetailsById(e),this.GetHeaderById(e),a},async CreateInvoiceDetail(e){const t=await s.SalesInvoice.CreateDetail(e);return this.GetDetailsById(e.salesInvoiceId),this.GetHeaderById(e.salesInvoiceId),t},async UpdateInvoiceDetail(e){const t=await s.SalesInvoice.UpdateDetail(e);return this.GetDetailsById(e.salesInvoiceId),this.GetHeaderById(e.salesInvoiceId),t},async DeleteInvoiceDetail(e){const t=await s.SalesInvoice.DeleteDetail(e);return this.GetDetailsById(e.salesInvoiceId),this.GetHeaderById(e.salesInvoiceId),t},async PrintInvoice(e,t){const a=await s.SalesInvoice.GetReportDataById(e);if(!a)return!1;const i=`Factura_${t}.docx`,o=await new l().Download(a,d.Invoice,i);return o?(r(i,o),!0):!1}}});export{u};
