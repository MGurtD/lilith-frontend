import{N as n,r as l,S as c}from"./index-d6370003.js";const r=n({id:"lifecycle",state:()=>({lifecycle:l(void 0),secondaryLifecycle:l(void 0),lifecycles:l(void 0)}),getters:{transitions:e=>{const t=[];return e.lifecycle&&e.lifecycle.statuses.forEach(i=>{i.transitions&&t.push(...i.transitions)}),t},getStatusName:e=>t=>{if(!t)return"";let i="";if(e.lifecycle&&e.lifecycle.statuses){const a=e.lifecycle.statuses.find(s=>s.id===t);a&&(i=a.name)}return i}},actions:{setNew(e){this.lifecycle={id:e,name:"",description:"",disabled:!1,statuses:[]}},async getStatusNameById(e,t){const i=await c.Lifecycle.getByName(e);if(i&&i.statuses.length>0){const a=i.statuses.find(s=>s.id===t);return a?a.name:""}return""},async fetchAll(){this.lifecycles=await c.Lifecycle.getAll()},async fetchOne(e){this.lifecycle=await c.Lifecycle.getById(e)},async fetchOneByName(e){this.lifecycle=await c.Lifecycle.getByName(e)},async fetchSecondaryByName(e){this.secondaryLifecycle=await c.Lifecycle.getByName(e)},async create(e){const t=await c.Lifecycle.create(e);return t&&await this.fetchAll(),t},async update(e,t){const i=await c.Lifecycle.update(e,t);return i&&await this.fetchAll(),i},async delete(e){const t=await c.Lifecycle.delete(e);return t&&await this.fetchAll(),t},async createStatus(e){const t=await c.Lifecycle.createStatus(e);return t&&await this.fetchOne(this.lifecycle.id),t},async updateStatus(e,t){const i=await c.Lifecycle.updateStatus(t);return i&&await this.fetchOne(this.lifecycle.id),i},async deleteStatus(e){const t=await c.Lifecycle.deleteStatus(e);return t&&await this.fetchOne(this.lifecycle.id),t},async createTransition(e){const t=await c.Lifecycle.createTransition(e);return t&&await this.fetchOne(this.lifecycle.id),t},async updateTransition(e,t){const i=await c.Lifecycle.updateTransition(t);return i&&await this.fetchOne(this.lifecycle.id),i},async deleteTransition(e){const t=await c.Lifecycle.deleteTransition(e);return t&&await this.fetchOne(this.lifecycle.id),t}}});export{r as u};
