import{N as s}from"./index-680c2dac.js";import{E as i}from"./index-1969dab7.js";const n=s({id:"receipts",state:()=>({receipts:void 0,receipt:void 0,receptions:void 0,selectorReceipts:void 0}),getters:{},actions:{setNewReceipt(e){this.receipt={id:e,date:"",details:[],disabled:!1,exerciseId:"",statusId:"",supplierId:"",supplierNumber:"",number:"",purchaseInvoiceId:null}},async fetchFiltered(e,t,c,a){this.receipts=await i.Receipt.getFiltered(e,t,c)},async fetchInvoiceableBySupplier(e){this.selectorReceipts=await i.Receipt.GetInvoiceable(e)},async fetchByInvoice(e){this.receipts=await i.Receipt.GetByInvoice(e)},async fetchReceipts(){this.receipts=await i.Receipt.getAll()},async fetchReceiptsByReferenceId(e){this.receipts=await i.Receipt.GetByReferenceId(e)},async fetchReceipt(e){this.receipt=await i.Receipt.getById(e)},async fetchReceiptDetails(e){const t=await i.Receipt.getById(e);this.receipt&&t&&(this.receipt.details=t.details)},async createReceipt(e){const t=await i.Receipt.create(e);return t&&await this.fetchReceipts(),t},async updateReceipt(e,t){const c=await i.Receipt.update(e,t);return c&&await this.fetchReceipts(),c},async associateInvoice(e,t){return e.purchaseInvoiceId=t,await i.Receipt.update(e.id,e)},async unassociateInvoice(e,t){return e.purchaseInvoiceId=null,await i.Receipt.update(e.id,e)},async deleteReceipt(e){const t=await i.Receipt.delete(e);return t&&await this.fetchReceipts(),t},async createReceiptDetail(e){const t=await i.Receipt.addDetail(e);return t.result&&await this.fetchReceiptDetails(this.receipt.id),t},async updateReceiptDetail(e,t){const c=await i.Receipt.updateDetail(t);return c.result&&await this.fetchReceiptDetails(this.receipt.id),c},async deleteReceiptDetail(e){const t=await i.Receipt.removeDetail(e);return t.result&&await this.fetchReceiptDetails(this.receipt.id),t},async calculateDetailWeightAndPrice(e){return await i.Receipt.calculateDetailWeightAndPrice(e)},async getReceptions(e){this.receptions=await i.Order.getReceptions(e)},async addReceptions(e){return await i.Receipt.addReceptions(e)}}});export{n as u};
