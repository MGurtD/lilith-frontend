import{N as l,D as d}from"./index-6eb74133.js";import{S as s}from"./index-be9b396c.js";const o=l({id:"salesOrder",state:()=>({salesOrder:void 0,salesOrders:void 0,salesOrdersToDeliver:void 0,createWorkOrderDialogVisibility:!1}),getters:{},actions:{async Create(e){return await s.SalesOrder.Create(e)},async CreateFromBudget(e){return e.date=d(e.date),e.acceptanceDate&&(e.acceptanceDate=d(e.acceptanceDate)),await s.SalesOrder.CreateFromBudget(e)},async GetById(e){this.salesOrder=await s.SalesOrder.getById(e)},async GetDetailsById(e){const a=await s.SalesOrder.getById(e);this.salesOrder&&a&&(this.salesOrder.salesOrderDetails=a==null?void 0:a.salesOrderDetails)},async GetFiltered(e,a,t,r){t?this.salesOrders=await s.SalesOrder.GetBetweenDatesAndCustomer(e,a,t):this.salesOrders=await s.SalesOrder.GetBetweenDates(e,a),r&&this.salesOrders&&(this.salesOrders=this.salesOrders.filter(i=>i.statusId===r))},async GetByDeliveryNote(e){this.salesOrders=await s.SalesOrder.GetByDeliveryNote(e)},async GetToDeliver(e){this.salesOrdersToDeliver=await s.SalesOrder.GetToDeliver(e)},async Update(e,a){return await s.SalesOrder.update(e,a)},async Delete(e){return await s.SalesOrder.delete(e)},async CreateDetail(e){const a=await s.SalesOrder.CreateDetail(e);return a&&await this.GetDetailsById(e.salesOrderHeaderId),a},async UpdateDetail(e){return await s.SalesOrder.UpdateDetail(e)},async DeleteDetail(e){const a=await s.SalesOrder.DeleteDetail(e);return a&&await this.GetDetailsById(e.salesOrderHeaderId),a}}});export{o as u};
